{% extends 'umt_youth_union/base.html' %}
{% block title %}Danh s√°ch H·ªì s∆°{% endblock %}

{% block content %}
<style>
    .status-badge { padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
    .st-wait { background: #fff3cd; color: #856404; }
    .st-ok { background: #d4edda; color: #155724; }
    .st-fail { background: #f8d7da; color: #721c24; }
</style>

<div class="card" style="padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
        <h3 style="margin: 0; color: #003366; text-transform: uppercase; border-left: 5px solid #cd161c; padding-left: 15px;">
            üìÇ {{ tieu_de }}
        </h3>
        
        <a href="{% url 'chon_danh_hieu' %}" style="background: #cd161c; color: white; padding: 10px 20px; text-decoration: none; border-radius: 50px; font-weight: bold; box-shadow: 0 4px 10px rgba(205, 22, 28, 0.3);">
            <i class="fas fa-plus-circle"></i> N·ªôp h·ªì s∆° x√©t duy·ªát
        </a>
    </div>

    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: #f8f9fa; color: #666; text-transform: uppercase; font-size: 13px;">
                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee;">Ng√†y n·ªôp</th>
                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee;">Ng∆∞·ªùi n·ªôp</th>
                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee;">Chi ƒëo√†n</th>
                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee;">Danh hi·ªáu</th>
                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee;">Tr·∫°ng th√°i</th>
                <th style="padding: 15px; text-align: left; border-bottom: 2px solid #eee;">Thao t√°c</th>
            </tr>
        </thead>
        <tbody>
            {% for hs in danh_sach %}
            <tr style="border-bottom: 1px solid #eee; transition: 0.2s;" onmouseover="this.style.background='#f9f9f9'" onmouseout="this.style.background='white'">
                <td style="padding: 15px;">{{ hs.ngay_nop|date:"d/m/Y" }}</td>
                <td style="padding: 15px; font-weight: 600; color: #003366;">{{ hs.sinh_vien.ho_ten }}</td>
                <td style="padding: 15px;">{{ hs.sinh_vien.chi_doan_gan_ket.ten_chi_doan|default:"--" }}</td>
                <td style="padding: 15px;">{{ hs.get_loai_danh_hieu_display }}</td>
                <td style="padding: 15px;">
                    {% if hs.trang_thai == 'DAT' %}<span class="status-badge st-ok">ƒê√£ duy·ªát</span>
                    {% elif hs.trang_thai == 'TU_CHOI' or hs.trang_thai == 'KHONG_DAT' %}<span class="status-badge st-fail">T·ª´ ch·ªëi</span>
                    {% else %}<span class="status-badge st-wait">{{ hs.get_trang_thai_display }}</span>
                    {% endif %}
                </td>
                <td style="padding: 15px;">
                    <a href="{% url 'chi_tiet_xet_duyet' hs.id %}" style="color: #003366; font-weight: bold; text-decoration: none;">
                        Xem chi ti·∫øt &rarr;
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" style="padding: 40px; text-align: center; color: #999;">Ch∆∞a c√≥ h·ªì s∆° n√†o.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}